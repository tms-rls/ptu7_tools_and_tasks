{% extends "base.html" %}

{% load i18n %}

{% block title %}{% trans "Invoice search results" %}{% endblock %}

{% block content %}

  <h1>{% trans "Search" %} "{{query}}" {% trans "results" %}:</h1>
  <br>
  {% if bills_list %}
    <table>
        <thead>
            <tr>
                <th style="padding:10px">{% trans "Date" %}</th>
                <th style="padding:10px">{% trans "Number" %}</th>
                <th style="padding:10px">{% trans "Client" %}</th>
                <th style="padding:10px">{% trans "Const. object" %}</th>
                <th style="padding:10px">{% trans "Amount" %}</th>
                <th style="padding:10px">{% trans "Status" %}</th>
                <th style="padding:10px">{% trans "Payment date" %}</th>
            </tr>
        </thead>
        <tbody>
            {% for bill in bills_list %}
                    <tr>
                        <td style="padding:10px">
                            <a href="{% url 'bill_detail_view' bill.pk %}"
                               style="{% if bill.deadline_overdue and bill.unpaid %}color: red{% endif %}{% if bill.paid %}color: lime{% endif %}">
                                {{ bill.date }}
                            </a>
                        </td>
                        <td style="padding:10px">
                            <a href="{% url 'bill_detail_view' bill.pk %}"
                               style="{% if bill.deadline_overdue and bill.unpaid %}color: red{% endif %}{% if bill.paid %}color: lime{% endif %}">
                                {{ bill.number }}
                            </a>
                        </td>
                        <td style="padding:10px">
                            <a href="{% url 'bill_detail_view' bill.pk %}"
                               style="{% if bill.deadline_overdue and bill.unpaid %}color: red{% endif %}{% if bill.paid %}color: lime{% endif %}">
                                {{ bill.client }}
                            </a>
                        </td>
                        <td style="padding:10px">
                            <a href="{% url 'bill_detail_view' bill.pk %}"
                               style="{% if bill.deadline_overdue and bill.unpaid %}color: red{% endif %}{% if bill.paid %}color: lime{% endif %}">
                                {{ bill.construction_object }}
                            </a>
                        </td>
                        <td style="padding:10px">
                            <a href="{% url 'bill_detail_view' bill.pk %}"
                               style="{% if bill.deadline_overdue and bill.unpaid %}color: red{% endif %}{% if bill.paid %}color: lime{% endif %}">
                                {{ bill.amount }}
                            </a>
                        </td>
                        <td style="padding:10px">
                            <a href="{% url 'bill_detail_view' bill.pk %}"
                               style="{% if bill.deadline_overdue and bill.unpaid %}color: red{% endif %}{% if bill.paid %}color: lime{% endif %}">
                                {{ bill.get_status_display }}
                            </a>
                        </td>
                        <td style="padding:10px">
                            <a href="{% url 'bill_detail_view' bill.pk %}"
                               style="{% if bill.deadline_overdue and bill.unpaid %}color: red{% endif %}{% if bill.paid %}color: lime{% endif %}">
                                {{ bill.payment_date }}
                            </a>
                        </td>
                    </tr>
            {% endfor %}
        </tbody>
    </table>
  {% else %}
    <p>{% trans "No invoices for" %} "{{query}}" {% trans "query" %}</p>
  {% endif %}

{% endblock %}